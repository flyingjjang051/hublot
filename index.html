<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>HUBLOT</title>
    <link rel="shortcut icon" href="images/layout/favicon.png" type="image/x-icon" />
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100;300;400;500;700;900&family=Roboto:wght@100;300;400;500;700&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
    <link rel="stylesheet" href="css/reset.css" />
    <link rel="stylesheet" href="css/common.css" />
    <link rel="stylesheet" href="css/splitting.css" />
    <link rel="stylesheet" href="css/fullpage.css" />
    <link rel="stylesheet" href="css/layout.css" />
    <link rel="stylesheet" href="css/main.css" />
    <script src="js/jquery-3.6.0.min.js"></script>
    <script src="js/greensock/gsap.min.js"></script>
    <script src="js/greensock/CSSRulePlugin.min.js"></script>
    <script src="js/splitting.min.js"></script>
    <script src="js/fullpage.min.js"></script>
  </head>
  <body>
    <header id="header">
      <h1 id="logo">
        <a href=""><img src="images/hublot02/logo.png" alt="" /></a>
      </h1>
      <nav id="gnb">
        <h2 class="hidden">global navigation</h2>
        <ul class="gnbList">
          <li data-url="bigbang" class="on"><a href="">BIGBANG</a></li>
          <li data-url="classic"><a href="">CLASSIC</a></li>
          <li><a href="">BOUTIQUES</a></li>
        </ul>
      </nav>
      <div class="utilMenu">
        <a href="">HUBLOTISTA</a>
        <a href="">
          <span class="material-icons">favorite_border</span>
        </a>
        <a href="">
          <span class="material-icons">search</span>
        </a>
      </div>
    </header>
    <main id="main">
      <!-- <div class="section" id="clock01">
            <div class="info">
                <p class="category">BIG BANG</p>
                <p class="title">
                    UNICO BERLUTI COLD BROWN
                </p>
                <p class="depth">
                    45MM
                </p>
                <p class="price">
                    CHF 24,900
                </p>
            </div>
        </div> -->
    </main>
    <script>
      const main = $("#main");
      let selectedNum = 1;

      //prettier-ignore
      $.ajax({ url: "data/bigbang.json" })
       .done(function (response) {
          //console.log(response.clock);
          const clockArray =  response.clock;
          let tempHtml="";
          $.each(clockArray,function(idx,item){
            tempHtml+=`<div class="section" id="${"clock"+idx}" style="background-image:url('${item.bg}')">
              <div class="info" data-splitting>
                <p class="category">${item.category}</p>
                <p class="title">
                  ${item.title}
                </p>
                <p class="depth">
                    ${item.depth}MM
                    </p>
                <p class="price">
                    CHF ${item.price}
                </p>
            </div>
            </div>`
          });
          console.log(tempHtml);
          main.html(tempHtml);
          Splitting();
          const clockTL = gsap.timeline({ paused: true });
          clockTL.from(`.section:nth-child(${selectedNum}) .char`, {
            opacity: 0,
            y: -100,
            ease: "bounce",
            duration: 1,
            stagger: { each: 0.02, from: "random" },
          });
          $("#main").fullpage({
            scrollBar:true,
            afterLoad:function(origin,destination,direction,trigger){
              //prettier-ignore
              selectedNum = destination.index+1;
              clockTL.restart();
            }
          });
       });
    </script>
  </body>
</html>
